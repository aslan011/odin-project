!function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){"use strict";r.r(e);var n=()=>{let t=1;const e=[],r=[],n=[];for(let r=65;r<75;r++){const n=String.fromCharCode(r);for(let r=1;r<11;r++){const i={index:t,cords:n+String(r),containShip:!1,hit:!1};t++,e.push(i)}}const i=()=>{const t=(()=>{const t=[];return r.forEach(e=>{e.getPositions().forEach(e=>{t.push(e)})}),t})();e.forEach(e=>{const{cords:r}=e;t.includes(r)&&(e.containShip=!0)})};i();return{grid:e,Ships:r,missedPositions:n,receiveAttack:t=>{for(let e=0;e<r.length;e++){if(!0===r[e].getPositions().includes(t)){r[e].hit(t);break}e+1===r.length&&n.push(t)}},placeShips:i}};const i=[];var o=()=>{const t=n(),e=n(),r=()=>{const e=Math.floor(10*Math.random())+1,n=Math.floor(10*Math.random())+65,o=String.fromCharCode(n)+e;return!1===i.includes(o)?(i.push(o),t.receiveAttack(o)):r(),o};return{Player1:t,Computer:e,playerHit:t=>{e.receiveAttack(t)},computerHit:r}};const s=t=>{const e=[...t],r=[];let n=!1;const i=()=>(r.length===e.length&&(n=!0),n);return{hit:t=>!0===e.includes(t)&&(r.push(t),i(),!0),sink:i,getPositions:()=>e,getHitPositions:()=>r}},a=document.getElementById("player"),c=document.getElementById("computer"),l=Array.from(document.getElementsByClassName("ship")),d=[];let u,p=o(),h=4,f=4;function m(){a.innerHTML="",c.innerHTML="",p.Player1.grid.forEach(t=>{const e=document.createElement("div");e.className="squares",e.id=t.cords,!0===t.containShip&&e.classList.add("containShip"),a.appendChild(e)}),p.Computer.grid.forEach(t=>{const e=document.createElement("div");e.className="COMsquares",e.id=t.cords,!0===t.containShip&&e.classList.add("COMcontainShip"),c.appendChild(e)})}function g(){p=o(),Array.from(a.childNodes).forEach(t=>{t.classList.remove("hitShip","hitEmpty","containShip")}),Array.from(c.childNodes).forEach(t=>{t.classList.remove("hitShip","hitEmpty","containShip")}),h=4,f=4}function y(t){p.playerHit(t.id),function(t){const e=p.computerHit();Array.from(a.childNodes).forEach(r=>{r.id===e&&Array.from(r.classList).includes("containShip")?r.classList.add("hitShip"):r.id===e&&r.classList.add("hitEmpty"),Array.from(t.classList).includes("COMcontainShip")?t.classList.add("hitShip"):t.classList.add("hitEmpty")})}(t),function(){const t=Array.from(p.Computer.Ships).filter(t=>!0===t.sink()),e=Array.from(p.Player1.Ships).filter(t=>!0===t.sink());4===t.length?(alert("you win!"),g()):4===e.length&&(alert("you lose!"),g())}()}m();const S=document.querySelectorAll("#computer");a.addEventListener("dragenter",()=>{a.classList.toggle("active")}),a.addEventListener("dragexit",()=>{a.classList.toggle("active")}),l.forEach(t=>{t.addEventListener("dragstart",t=>{t.dataTransfer.setData("text/plain",t.target.id);const e=t.dataTransfer.getData("text");u=document.getElementById(e),d.includes(e)?t.preventDefault():d.push(e)})}),l.forEach(t=>{t.addEventListener("dragend",t=>{t.preventDefault()})}),a.addEventListener("dragover",t=>{t.preventDefault()}),a.addEventListener("drop",(function(t){d.push(t.target.id),a.classList.toggle("active"),t.preventDefault();const e=t.target.id.split(""),r=e[0],n=Number(e[1]),i=[],o=Number(u.dataset.length);let c=0;for(let t=n-1;t<n-1+o;t++)c=String(o<=2?r+(t+1):r+t),i.push(c),p.Player1.Ships.push(s(i));p.Player1.placeShips(),u.style.position="absolute",u.style.left=t.clientX-12*o+"px",u.style.top=t.y-30+"px ",u.setAttribute("draggable",!1),h-=1,f-=1;const l=Math.floor(10*Math.random())+1,g=Math.floor(10*Math.random())+65,v=String.fromCharCode(g),E=[];for(let t=0;t<=f;t++)E.push(v+(l+t));p.Computer.Ships.push(s(E)),p.Computer.placeShips(),m(),0===h&&(m(),S[0].addEventListener("click",t=>{y(t.target)}))}))}]);